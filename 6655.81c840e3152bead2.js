"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6655],{26655:(vt,H,c)=>{c.r(H),c.d(H,{AccountModule:()=>he});var l=c(59928),w=c(69808),I=c(30325),d=c(70655),Y=c(83110),M=c(92340),G=c(8929),k=c(7625),Z=c(48966),t=c(5e3),z=c(35683);let $=(()=>{class n{constructor(e,a){this.data=e,this._scriptService=a}ngAfterViewInit(){this.loadQr()}loadQr(){return(0,d.__awaiter)(this,void 0,void 0,function*(){yield this._scriptService.loadScript("qrCode");let e=`https://metamask.app.link/send/${this.data.userAddress}@${M.N.network.chainId}`;new QRCode(document.getElementById("qr-code"),{text:e,width:181,height:181,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Z.WI),t.Y36(z.Y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["modal-qr-code"]],decls:6,vars:0,consts:[[1,"text-end","mb15"],["mat-dialog-close","",1,"btn-fab",2,"--size","32px","--bg-color","rgba(255, 255, 255, 0.2)","--text-color","#FFFFFF","top","32px","right","32px","--padding","4px"],["slot","icon-only","name","close"],[1,"wrapper-qr","text-center","mt20"],["id","qr-code",1,"qr"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-dialog-content"),t.TgZ(1,"div",0),t.TgZ(2,"ion-button",1),t._UZ(3,"ion-icon",2),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"div",4),t.qZA(),t.qZA())},directives:[Z.xY,l.YG,Z.ZT,l.gu],styles:["ion-content[_ngcontent-%COMP%]::part(background){background:var(--ion-toolbar-background);border-radius:16px 16px 0 0}.wrapper-qr[_ngcontent-%COMP%]   .qr[_ngcontent-%COMP%]{padding:10px;width:201px;height:201px;border-radius:12px;background-color:var(--ion-text-color);margin:0 auto 24px;overflow:hidden}"]}),n})(),B=(()=>{class n{constructor(e,a){this.modalController=e,this.data=a}ngAfterViewInit(){}OpenAddFundsModal(){return(0,d.__awaiter)(this,void 0,void 0,function*(){yield(yield this.modalController.create({component:Y.S,initialBreakpoint:1,breakpoints:[0,1],handle:!1,componentProps:{directClick:!0,selectedTokenData:this.data.selectedTokenData}})).present()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.IN),t.Y36(Z.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["alert-deposit-modal"]],decls:11,vars:0,consts:[[1,"bg-light"],[1,"text-end","mb15"],["mat-dialog-close","",1,"btn-fab",2,"--size","32px","--bg-color","rgba(0,0,0,0.1)","--text-color","#000","top","32px","right","32px","--padding","4px"],["slot","icon-only","name","close"],[1,"text-center"],[1,"fs-md","fw-600","mb-2"],[1,"fs-sm","mb-3",2,"color","#333"],["mat-dialog-close","",1,"btn","btn-block","btn-fill-primary",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-dialog-content",0),t.TgZ(1,"div",1),t.TgZ(2,"ion-button",2),t._UZ(3,"ion-icon",3),t.qZA(),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._uU(6," Not so fast! "),t.qZA(),t.TgZ(7,"div",6),t._uU(8," First add funds to your Crypto Wallet "),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return a.OpenAddFundsModal()}),t._uU(10,"Add Funds"),t.qZA(),t.qZA(),t.qZA())},directives:[Z.xY,l.YG,Z.ZT,l.gu],encapsulation:2}),n})();var _=c(48513),y=c(57895),E=c(890),Q={};!function n(r,e,a,s){var T=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL);function S(){}function P(i){var o=e.exports.Promise,g=void 0!==o?o:r.Promise;return"function"==typeof g?new g(i):(i(S,S),null)}var o,g,i,u,f,nt,h=(i=Math.floor(16.666666666666668),u={},f=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(o=function(m){var p=Math.random();return u[p]=requestAnimationFrame(function v(x){f===x||f+i-1<x?(f=x,delete u[p],m()):u[p]=requestAnimationFrame(v)}),p},g=function(m){u[m]&&cancelAnimationFrame(u[m])}):(o=function(m){return setTimeout(m,i)},g=function(m){return clearTimeout(m)}),{frame:o,cancel:g}),O=function(){var i,o,g={};return function(){if(i)return i;if(!a&&T){var f=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{i=new Worker(URL.createObjectURL(new Blob([f])))}catch(m){return void 0!==typeof console&&"function"==typeof console.warn&&console.warn("\u{1f38a} Could not load worker",m),null}!function u(f){function m(p,v){f.postMessage({options:p||{},callback:v})}f.init=function(v){var x=v.transferControlToOffscreen();f.postMessage({canvas:x},[x])},f.fire=function(v,x,L){if(o)return m(v,null),o;var A=Math.random().toString(36).slice(2);return o=P(function(W){function U(C){C.data.callback===A&&(delete g[A],f.removeEventListener("message",U),o=null,L(),W())}f.addEventListener("message",U),m(v,A),g[A]=U.bind(null,{data:{callback:A}})})},f.reset=function(){for(var v in f.postMessage({reset:!0}),g)g[v](),delete g[v]}}(i)}return i}}(),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(i,o,g){return function D(i,o){return o?o(i):i}(i&&function K(i){return null!=i}(i[o])?i[o]:N[o],g)}function tt(i){return i<0?0:Math.floor(i)}function et(i,o){return Math.floor(Math.random()*(o-i))+i}function R(i){return parseInt(i,16)}function me(i){return i.map(_e)}function _e(i){var o=String(i).replace(/[^0-9a-f]/gi,"");return o.length<6&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]),{r:R(o.substring(0,2)),g:R(o.substring(2,4)),b:R(o.substring(4,6))}}function ve(i){i.width=document.documentElement.clientWidth,i.height=document.documentElement.clientHeight}function be(i){var o=i.getBoundingClientRect();i.width=o.width,i.height=o.height}function Ae(i){var o=i.angle*(Math.PI/180),g=i.spread*(Math.PI/180);return{x:i.x,y:i.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*i.startVelocity+Math.random()*i.startVelocity,angle2D:-o+(.5*g-Math.random()*g),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:i.color,shape:i.shape,tick:0,totalTicks:i.ticks,decay:i.decay,drift:i.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*i.gravity,ovalScalar:.6,scalar:i.scalar}}function pt(i,o){var A,g=!i,u=!!b(o||{},"resize"),f=b(o,"disableForReducedMotion",Boolean),p=T&&b(o||{},"useWorker")?O():null,v=g?ve:be,x=!(!i||!p||!i.__confetti_initialized),L="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function W(C,ot,it){for(var J=b(C,"particleCount",tt),j=b(C,"angle",Number),V=b(C,"spread",Number),F=b(C,"startVelocity",Number),Te=b(C,"decay",Number),we=b(C,"gravity",Number),Me=b(C,"drift",Number),ht=b(C,"colors",me),Pe=b(C,"ticks",Number),mt=b(C,"shapes"),ke=b(C,"scalar"),_t=function fe(i){var o=b(i,"origin",Object);return o.x=b(o,"x",Number),o.y=b(o,"y",Number),o}(C),ft=J,at=[],Oe=i.width*_t.x,Ie=i.height*_t.y;ft--;)at.push(Ae({x:Oe,y:Ie,angle:j,spread:V,startVelocity:F,color:ht[ft%ht.length],shape:mt[et(0,mt.length)],ticks:Pe,decay:Te,gravity:we,drift:Me,scalar:ke}));return A?A.addFettis(at):(A=function Ze(i,o,g,u,f){var v,x,m=o.slice(),p=i.getContext("2d"),L=P(function(A){function W(){v=x=null,p.clearRect(0,0,u.width,u.height),f(),A()}v=h.frame(function U(){a&&!(u.width===s.width&&u.height===s.height)&&(u.width=i.width=s.width,u.height=i.height=s.height),!u.width&&!u.height&&(g(i),u.width=i.width,u.height=i.height),p.clearRect(0,0,u.width,u.height),m=m.filter(function(C){return function ye(i,o){o.x+=Math.cos(o.angle2D)*o.velocity+o.drift,o.y+=Math.sin(o.angle2D)*o.velocity+o.gravity,o.wobble+=o.wobbleSpeed,o.velocity*=o.decay,o.tiltAngle+=.1,o.tiltSin=Math.sin(o.tiltAngle),o.tiltCos=Math.cos(o.tiltAngle),o.random=Math.random()+2,o.wobbleX=o.x+10*o.scalar*Math.cos(o.wobble),o.wobbleY=o.y+10*o.scalar*Math.sin(o.wobble);var g=o.tick++/o.totalTicks,u=o.x+o.random*o.tiltCos,f=o.y+o.random*o.tiltSin,m=o.wobbleX+o.random*o.tiltCos,p=o.wobbleY+o.random*o.tiltSin;return i.fillStyle="rgba("+o.color.r+", "+o.color.g+", "+o.color.b+", "+(1-g)+")",i.beginPath(),"circle"===o.shape?i.ellipse?i.ellipse(o.x,o.y,Math.abs(m-u)*o.ovalScalar,Math.abs(p-f)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI):function xe(i,o,g,u,f,m,p,v,x){i.save(),i.translate(o,g),i.rotate(m),i.scale(u,f),i.arc(0,0,1,p,v,x),i.restore()}(i,o.x,o.y,Math.abs(m-u)*o.ovalScalar,Math.abs(p-f)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI):(i.moveTo(Math.floor(o.x),Math.floor(o.y)),i.lineTo(Math.floor(o.wobbleX),Math.floor(f)),i.lineTo(Math.floor(m),Math.floor(p)),i.lineTo(Math.floor(u),Math.floor(o.wobbleY))),i.closePath(),i.fill(),o.tick<o.totalTicks}(p,C)}),m.length?v=h.frame(U):W()}),x=W});return{addFettis:function(A){return m=m.concat(A),L},canvas:i,promise:L,reset:function(){v&&h.cancel(v),x&&x()}}}(i,at,v,ot,it)).promise}function U(C){var ot=f||b(C,"disableForReducedMotion",Boolean),it=b(C,"zIndex",Number);if(ot&&L)return P(function(F){F()});g&&A?i=A.canvas:g&&!i&&(i=function Ce(i){var o=document.createElement("canvas");return o.style.position="fixed",o.style.top="0px",o.style.left="0px",o.style.pointerEvents="none",o.style.zIndex=i,o}(it),document.body.appendChild(i)),u&&!x&&v(i);var J={width:i.width,height:i.height};function j(){if(p){var F={getBoundingClientRect:function(){if(!g)return i.getBoundingClientRect()}};return v(F),void p.postMessage({resize:{width:F.width,height:F.height}})}J.width=J.height=null}function V(){A=null,u&&r.removeEventListener("resize",j),g&&i&&(document.body.removeChild(i),i=null,x=!1)}return p&&!x&&p.init(i),x=!0,p&&(i.__confetti_initialized=!0),u&&r.addEventListener("resize",j,!1),p?p.fire(C,J,V):W(C,J,V)}return U.reset=function(){p&&p.reset(),A&&A.reset()},U}function gt(){return nt||(nt=pt(null,{useWorker:!0,resize:!0})),nt}e.exports=function(){return gt().apply(this,arguments)},e.exports.reset=function(){gt().reset()},e.exports.create=pt}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),Q,!1);var bt=Q.exports.create,rt=c(16628),st=c(51704),Ct=c(24430),X=c(62562),q=c(93075);function xt(n,r){if(1&n&&t.GkF(0,6),2&n){t.oxw();const e=t.MAs(8);t.Q6J("ngTemplateOutlet",e)}}function At(n,r){if(1&n&&t.GkF(0,6),2&n){t.oxw();const e=t.MAs(10);t.Q6J("ngTemplateOutlet",e)}}function yt(n,r){if(1&n&&t.GkF(0,6),2&n){t.oxw();const e=t.MAs(12);t.Q6J("ngTemplateOutlet",e)}}const Zt=function(n){return{"btn-loader":n}};function Tt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",8),t._uU(2,"Apply Coupon Code"),t.qZA(),t.TgZ(3,"form"),t.TgZ(4,"input",9),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(2).voucherCode=s}),t.qZA(),t.qZA(),t.TgZ(5,"div",10),t.TgZ(6,"div",11),t.TgZ(7,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sendEvent("close")}),t._uU(8," Close "),t._UZ(9,"ion-ripple-effect"),t.qZA(),t.qZA(),t.TgZ(10,"div",11),t.TgZ(11,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).redeemVoucher()}),t._uU(12," Apply"),t.TgZ(13,"span",14),t._UZ(14,"span"),t.qZA(),t._UZ(15,"ion-ripple-effect"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.voucherCode),t.xp6(7),t.Q6J("disabled",!e.voucherCode||e.loader)("ngClass",t.VKq(3,Zt,e.loader))}}function wt(n,r){1&n&&(t.TgZ(0,"div",8),t._uU(1,"Coupons can only be used on the Mobile App. Click the button or scan the QR code above to download the app and avail benefits!"),t.qZA())}function Mt(n,r){1&n&&(t.TgZ(0,"div",8),t._uU(1,"Coupons can only be used on the Mobile App. Click the button below to download the app and avail benefits!"),t.qZA())}function Pt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,wt,2,0,"div",15),t.YNc(2,Mt,2,0,"div",15),t.TgZ(3,"div",10),t.TgZ(4,"div",11),t.TgZ(5,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).sendEvent("close")}),t._uU(6," Close "),t._UZ(7,"ion-ripple-effect"),t.qZA(),t.qZA(),t.TgZ(8,"div",11),t.TgZ(9,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).redeemVoucher()}),t._uU(10," Download "),t._UZ(11,"ion-ripple-effect"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isAndroid),t.xp6(1),t.Q6J("ngIf",e.isAndroid)}}function kt(n,r){if(1&n&&(t.YNc(0,Tt,16,5,"div",7),t.YNc(1,Pt,12,2,"div",7)),2&n){const e=t.oxw();t.Q6J("ngIf",e.isApp),t.xp6(1),t.Q6J("ngIf",!e.isApp)}}function Ot(n,r){1&n&&(t.TgZ(0,"div",20),t._uU(1,"You are not eligible to use this coupon."),t.qZA())}function It(n,r){1&n&&(t.TgZ(0,"div",20),t._uU(1,"Invalid Code. Try again with a different coupon code."),t.qZA())}function St(n,r){1&n&&(t.TgZ(0,"div",20),t._uU(1,"Coupon code already used"),t.qZA())}function Bt(n,r){1&n&&(t.TgZ(0,"div",20),t._uU(1,"Coupon expired. Try again with a different coupon code."),t.qZA())}function Ut(n,r){1&n&&(t.TgZ(0,"div",20),t._uU(1,"Something went wrong. Please contact us using chat support."),t.qZA())}function qt(n,r){if(1&n&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.errorMessage)}}function Nt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t._uU(1,"Oops!"),t.qZA(),t.TgZ(2,"div",18),t._uU(3),t.qZA(),t.YNc(4,Ot,2,0,"div",19),t.YNc(5,It,2,0,"div",19),t.YNc(6,St,2,0,"div",19),t.YNc(7,Bt,2,0,"div",19),t.YNc(8,Ut,2,0,"div",19),t.YNc(9,qt,2,1,"div",19),t.TgZ(10,"div",10),t.TgZ(11,"div",11),t.TgZ(12,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().sendEvent("close")}),t._uU(13," Close "),t._UZ(14,"ion-ripple-effect"),t.qZA(),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().retry()}),t._uU(17," Retry "),t._UZ(18,"ion-ripple-effect"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.voucherCode),t.xp6(1),t.Q6J("ngIf",0==e.voucherStatusCode),t.xp6(1),t.Q6J("ngIf",4==e.voucherStatusCode),t.xp6(1),t.Q6J("ngIf",2==e.voucherStatusCode),t.xp6(1),t.Q6J("ngIf",3==e.voucherStatusCode),t.xp6(1),t.Q6J("ngIf",5==e.voucherStatusCode||6==e.voucherStatusCode),t.xp6(1),t.Q6J("ngIf",7==e.voucherStatusCode)}}function Ft(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t._uU(1,"Woohoo!"),t.qZA(),t.TgZ(2,"div",18),t._uU(3),t.qZA(),t.TgZ(4,"div",21),t._uU(5),t.qZA(),t.TgZ(6,"div",22),t.TgZ(7,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().routeToForecast()}),t._uU(8," Play Now "),t._UZ(9,"ion-ripple-effect"),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.voucherCode),t.xp6(2),t.hij(" ",e.successDetails," ")}}let Yt=(()=>{class n{constructor(e,a,s,T,S,P,h,O,N,D){this._analytics=e,this._scriptService=a,this.router=s,this.platform=T,this.web3Service=S,this._device=P,this.apiService=h,this.data=O,this.renderer2=N,this.elementRef=D,this.voucherStatusCode=-1,this.loader=!1,this.successDetails="",this.errorMessage="",this.isApp=!1,this.isAndroid=!1,this.analyticsParam={}}ngOnInit(){this.platform.is("cordova")?this.isApp=!0:(this.isApp=!1,/android/i.test(navigator.userAgent)?this.isAndroid=!0:(this.isAndroid=!1,this.loadQRCodeData()))}redeemVoucher(){return(0,d.__awaiter)(this,void 0,void 0,function*(){if(this.platform.is("cordova")){if(this.voucherCode){this.loader=!0,this.deviceId=yield this._analytics.getAdjustId(),this.analyticsParam.coupon_code=this.voucherCode,this.analyticsParam.status="apply",this.sendAnalyticsEvent(y.W.confirm_apply_coupon);let e={address:this.data.selectedAddress,promo:this.voucherCode,wallet:localStorage.getItem("user-preference"),distinctId:yield this._device.getId(),analyticData:{source:"account"}};this.apiService.postCall(M.N.redeemVoucherUrl,e).subscribe(a=>{let s=a.data;this.voucherStatusCode=s.promoStatus,this.successDetails=1==s.promoStatus?s.details:"",this.errorMessage=7==s.promoStatus?s.details:"",1==s.promoStatus?(this.surprise(),this.analyticsParam.coupon_code=this.analyticsParam.coupon_code||s.promo,this.analyticsParam.message=a.message,this.analyticsParam.status="success"):(this.analyticsParam.coupon_code=this.analyticsParam.coupon_code||s.promo,this.analyticsParam.message=a.message,this.analyticsParam.status="failed"),this.sendAnalyticsEvent(y.W.coupon_server),this.loader=!1},a=>{console.log(a),this.analyticsParam.status="failed",this.analyticsParam.message="Something went wrong!",this.sendAnalyticsEvent(y.W.coupon_server),this.loader=!1})}}else window.open("https://app.adjust.net.in/gx2rynh","_blank")})}sendEvent(e){this.analyticsParam.status=e,this.sendAnalyticsEvent(y.W.close_or_exit_coupon)}retry(){this.loader=!1,this.voucherStatusCode=-1,this.voucherCode=void 0}loadQRCodeData(){return(0,d.__awaiter)(this,void 0,void 0,function*(){yield this._scriptService.loadScript("qrCode"),new QRCode(document.getElementById("download-qr-code"),{text:"https://app.adjust.net.in/gx2rynh",width:181,height:181,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H})})}routeToForecast(){this.analyticsParam.source="trial coupon - success",this.analyticsParam.coupon_code=this.voucherCode,this.sendAnalyticsEvent(y.W.forecast_more),this.router.navigate(["predictions"])}sendAnalyticsEvent(e,a=!1){this._analytics.trackMixPanel(e,this.analyticsParam),a&&(this.analyticsParam={})}ngAfterViewInit(){}surprise(){const e=this.renderer2.createElement("canvas");e.style.height="100%",e.style.width="100%",e.style.position="fixed",e.style.zIndex=1051,e.style.top=0,e.style.left=0,this.renderer2.appendChild(this.elementRef.nativeElement,e),bt(e,{resize:!0})({particleCount:300,spread:300,origin:{y:.5}}),setTimeout(()=>{e.remove()},1500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(rt.y),t.Y36(z.Y),t.Y36(I.F0),t.Y36(l.t4),t.Y36(st.U),t.Y36(Ct.U),t.Y36(X.O),t.Y36(Z.WI),t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["modal-coupon-code"]],decls:13,vars:4,consts:[[1,"wrapper-qr","text-center","mt30",3,"hidden"],["id","download-qr-code",1,"qr"],[3,"ngTemplateOutlet",4,"ngIf"],["couponCode",""],["error",""],["success",""],[3,"ngTemplateOutlet"],[4,"ngIf"],[1,"fw-600","fs-md","mb-4"],["type","text","placeholder","Enter code here","name","voucherCode",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","mt20",2,"--bs-gutter-x","0.5rem"],[1,"col-6"],["mat-dialog-close","",1,"btn","btn-outline-dark","btn-block","ion-activatable","ripple-parent",3,"click"],[1,"btn","btn-fill-primary","btn-block","ion-activatable","ripple-parent",3,"disabled","ngClass","click"],[1,"dot-flashing","dot-flashing__danger-warning-success"],["class","fw-600 fs-md mb-4",4,"ngIf"],[1,"btn","btn-fill-primary","btn-block","ion-activatable","ripple-parent",3,"click"],[1,"fw-600","fs-md","mb-3"],[1,"fs-sm","fw-500","opacity-60"],["class","fs-sm fw-500 text-danger-on-light",4,"ngIf"],[1,"fs-sm","fw-500","text-danger-on-light"],[1,"fs-sm","fw-500","text-success-on-light"],[1,"mt20","text-end"],["mat-dialog-close","",1,"btn","btn-fill-primary","btn-block","ion-activatable","ripple-parent",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-dialog-content"),t.TgZ(1,"div",0),t._UZ(2,"div",1),t.qZA(),t.TgZ(3,"div"),t.YNc(4,xt,1,1,"ng-container",2),t.YNc(5,At,1,1,"ng-container",2),t.YNc(6,yt,1,1,"ng-container",2),t.qZA(),t.qZA(),t.YNc(7,kt,2,2,"ng-template",null,3,t.W1O),t.YNc(9,Nt,19,7,"ng-template",null,4,t.W1O),t.YNc(11,Ft,10,2,"ng-template",null,5,t.W1O)),2&e&&(t.xp6(1),t.Q6J("hidden",a.isAndroid||a.isApp),t.xp6(3),t.Q6J("ngIf",-1==a.voucherStatusCode),t.xp6(1),t.Q6J("ngIf",-1!=a.voucherStatusCode&&1!=a.voucherStatusCode),t.xp6(1),t.Q6J("ngIf",1==a.voucherStatusCode))},directives:[Z.xY,w.O5,w.tP,q._Y,q.JL,q.F,q.Fj,q.JJ,q.On,Z.ZT,l.H$,w.mk],styles:[".form-control[_ngcontent-%COMP%]{border:1px solid #333333;border-radius:8px;font-size:14px;font-weight:500;padding:12px 16px}.wrapper-qr[_ngcontent-%COMP%]{padding:0 10px}.wrapper-qr[_ngcontent-%COMP%]   .qr[_ngcontent-%COMP%]{padding:10px;width:201px;height:201px;border-radius:12px;background-color:var(--ion-text-color);margin:0 auto 24px;overflow:hidden}"]}),n})();var Et=c(67990),Lt=c(49607),Wt=c(63304),Jt=c(37268),ct=c(52538),Qt=c(56707),lt=c(33035),Dt=c(36863),Rt=c(40453);function Ht(n,r){if(1&n&&t.GkF(0,5),2&n){t.oxw();const e=t.MAs(8);t.Q6J("ngTemplateOutlet",e)}}function zt(n,r){if(1&n&&t.GkF(0,5),2&n){t.oxw();const e=t.MAs(6);t.Q6J("ngTemplateOutlet",e)}}function jt(n,r){1&n&&(t.TgZ(0,"ion-button",47),t._UZ(1,"ion-icon",48),t.qZA())}function Vt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",50),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return s.dismissPopover(),s.routeToMigration()}),t._uU(1,"Start Migration"),t.qZA()}}function Gt(n,r){if(1&n&&(t.TgZ(0,"ion-content"),t.YNc(1,Vt,2,0,"a",49),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.showMigrationOption)}}function $t(n,r){if(1&n&&(t.TgZ(0,"div",51),t._uU(1),t.ALo(2,"formatNumber"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",t.xi3(2,1,e.gameWalletBalance.dPlot+e.gameWalletBalance.dbPlot+e.gameWalletBalance.bPlot+e.gameWalletBalance.wPlot-e.totalBlockedBalance,2)," PLOT")}}function Xt(n,r){if(1&n&&(t.TgZ(0,"div",52),t._uU(1),t.ALo(2,"mycurrency"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("~ ",t.xi3(2,1,(e.gameWalletBalance.dPlot+e.gameWalletBalance.dbPlot+e.gameWalletBalance.bPlot+e.gameWalletBalance.wPlot-e.totalBlockedBalance)*e.plotPrice*e.platformCurrency.price,e.platformCurrency.currency),"")}}function Kt(n,r){1&n&&(t.TgZ(0,"div",53),t._uU(1," Deposit and start playing"),t.qZA())}function te(n,r){1&n&&(t.TgZ(0,"div",54),t._uU(1," Get started by adding funds"),t.qZA())}function ee(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"formatNumber"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.balance,2))}}function ne(n,r){1&n&&(t.TgZ(0,"span"),t._UZ(1,"ion-icon",62),t.qZA())}function oe(n,r){if(1&n&&(t.TgZ(0,"ion-item",56),t.TgZ(1,"ion-avatar"),t._UZ(2,"ion-img",57),t.qZA(),t.TgZ(3,"ion-label"),t.TgZ(4,"div",58),t._uU(5),t.qZA(),t.TgZ(6,"div",59),t.TgZ(7,"div",60),t._uU(8,"Balance"),t.qZA(),t.TgZ(9,"div",51),t.YNc(10,ee,3,4,"span",61),t.YNc(11,ne,2,0,"span",61),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit,a=t.oxw(2);t.xp6(2),t.MGl("src","https://assets.plotx.io/prediction-token/",e.icon,""),t.xp6(3),t.Oqu(e.token),t.xp6(5),t.Q6J("ngIf",!a.loadingBalance),t.xp6(1),t.Q6J("ngIf",a.loadingBalance)}}function ie(n,r){if(1&n&&(t.ynx(0),t.YNc(1,oe,12,4,"ion-item",55),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.balance>0)}}const ae=function(n){return{pulse:n}};function re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-header",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.TgZ(3,"div",9),t._uU(4,"Account"),t.qZA(),t.qZA(),t.TgZ(5,"ion-buttons",10),t.TgZ(6,"ion-button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().startTour()}),t._UZ(7,"ion-icon",12),t.qZA(),t.YNc(8,jt,2,0,"ion-button",13),t.TgZ(9,"ion-popover",14),t.YNc(10,Gt,2,1,"ng-template"),t.qZA(),t.TgZ(11,"ion-button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().alertLogout()}),t._UZ(12,"ion-icon",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"ion-card",17),t.TgZ(14,"ion-card-content"),t.TgZ(15,"div",18),t.TgZ(16,"div"),t.TgZ(17,"h3"),t._uU(18,"Game wallet"),t.qZA(),t.TgZ(19,"label"),t._uU(20,"Available to Play"),t.qZA(),t.YNc(21,$t,3,4,"div",19),t.YNc(22,Xt,3,4,"div",20),t.qZA(),t._UZ(23,"ion-img",21),t.qZA(),t.TgZ(24,"div",22),t.TgZ(25,"ion-button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().deposit()}),t._UZ(26,"ion-icon",24),t._uU(27," Deposit "),t.qZA(),t.TgZ(28,"ion-button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw().manageWallet()}),t._UZ(29,"ion-icon",26),t._uU(30," Manage Wallet "),t.qZA(),t.qZA(),t.YNc(31,Kt,2,0,"div",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",28),t.TgZ(33,"div",29),t.TgZ(34,"a",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().openCouponCodeModal()}),t._UZ(35,"ion-icon",31),t._uU(36," Apply Coupon Code "),t.qZA(),t.qZA(),t.TgZ(37,"ion-card",32),t.TgZ(38,"ion-card-content",33),t.YNc(39,te,2,0,"div",34),t.TgZ(40,"div",35),t.TgZ(41,"h3",36),t._uU(42,"Crypto wallet"),t.qZA(),t.TgZ(43,"ion-button",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().OpenAddFundsModal()}),t._UZ(44,"ion-icon",24),t._uU(45," Add funds "),t.qZA(),t.qZA(),t.TgZ(46,"div",38),t.TgZ(47,"div",39),t._UZ(48,"img",40),t.TgZ(49,"span"),t._uU(50),t.qZA(),t.qZA(),t.TgZ(51,"div",22),t.TgZ(52,"a",41),t.NdJ("click",function(){return t.CHM(e),t.oxw().copyAddress()}),t._UZ(53,"ion-icon",42),t._UZ(54,"ion-ripple-effect"),t.qZA(),t.TgZ(55,"a",43),t.NdJ("click",function(){return t.CHM(e),t.oxw().openQR()}),t._UZ(56,"ion-icon",44),t._UZ(57,"ion-ripple-effect"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(58,"ion-list",45),t.YNc(59,ie,2,1,"ng-container",46),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngClass",t.VKq(9,ae,e.boardingPointer)),t.xp6(2),t.Q6J("ngIf",e.showMigrationOption),t.xp6(13),t.Q6J("ngIf",e.gameWalletBalance),t.xp6(1),t.Q6J("ngIf",e.gameWalletBalance),t.xp6(9),t.Q6J("ngIf",e.gameWalletBalance&&e.gameWalletBalance.dPlot+e.gameWalletBalance.dbPlot+e.gameWalletBalance.bPlot+e.gameWalletBalance.wPlot==0&&e.hasCryptoBalance),t.xp6(8),t.Q6J("ngIf",e.gameWalletBalance&&!e.hasCryptoBalance&&e.gameWalletBalance.dPlot+e.gameWalletBalance.dbPlot+e.gameWalletBalance.bPlot+e.gameWalletBalance.wPlot==0),t.xp6(9),t.Q6J("md5Hash",e.userAddress),t.xp6(2),t.Oqu(e.truncAddress),t.xp6(9),t.Q6J("ngForOf",e.tokenListsInfo)}}function se(n,r){1&n&&(t.TgZ(0,"ion-header",6),t.TgZ(1,"ion-toolbar",63),t.TgZ(2,"div",8),t._UZ(3,"ion-skeleton-text",64),t._UZ(4,"ion-skeleton-text",65),t.qZA(),t.TgZ(5,"ion-buttons",10),t._UZ(6,"ion-skeleton-text",66),t._UZ(7,"ion-skeleton-text",67),t.qZA(),t.qZA(),t.TgZ(8,"ion-card",68),t.TgZ(9,"ion-card-content"),t.TgZ(10,"div",18),t.TgZ(11,"div"),t._UZ(12,"ion-skeleton-text",69),t._UZ(13,"ion-skeleton-text",70),t._UZ(14,"ion-skeleton-text",71),t.qZA(),t._UZ(15,"ion-skeleton-text",72),t.qZA(),t.TgZ(16,"div",22),t._UZ(17,"ion-skeleton-text",73),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(18,"div",74))}let ce=(()=>{class n{constructor(e,a,s,T,S,P,h,O,N,D,K,b,tt,et,R){this.alertController=e,this.modalController=a,this.apiService=s,this.helpersService=T,this.web3Service=S,this.router=P,this.httpService=h,this.dialog=O,this.toastController=N,this.storageService=D,this._analytics=K,this.popoverController=b,this.loadingController=tt,this.userService=et,this.ct=R,this.unsubscribe=new G.xQ,this.tokenLists=M.N.tokenLists,this.tokenListsInfo=M.N.tokenListsInfo,this.binanceAPIParams=M.N.binanceAPIParams,this.selectedPreference="wallet",this.connectionType="metamask",this.DEFAULT_CONNECTION_TYPE=M.N.DEFAULT_CONNECTION_TYPE,this.WALLET_CONNECTION_TYPES=M.N.WALLET_CONNECTION_TYPES,this.totalPlotAndbPlotBalance=0,this.unUsedClaimedAmount=0,this.plotPrice=0,this.userAddressParam="",this.truncAddress="",this.show=!1,this.currencyArr=M.N.platformCurrency,this.tokenBalance=0,this.plotTokenBalance=0,this.tokenPriceInUsd=0,this.plotTokenPriceInUsd=0,this.loadingBalance=!0,this.userPreference="",this.boardingPointer=!1,this.showMigrationOption=!1,this.analyticsParam={},this.gameWalletBalance={},this.totalBlockedBalance=0,this.hasCryptoBalance=!1}ionViewWillEnter(){this.helpersService.forPlatformCurrency.pipe((0,k.R)(this.unsubscribe)).subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){setTimeout(()=>{this.platformCurrency=e},10)})),this.web3Service.gameWalletBalance.pipe((0,k.R)(this.unsubscribe)).subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){this.gameWalletBalance=e})),this.userService.gameBlockedBalance.pipe((0,k.R)(this.unsubscribe)).subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){this.totalBlockedBalance=e?e.dplot+e.bplot:0})),this.web3Service.migrationData.pipe((0,k.R)(this.unsubscribe)).subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){this.showMigrationOption=1*e.totalClaimable+1*e.bPLOT>0})),this.helpersService.platFormCurrency("USD"),this.init(),this.userPreference=localStorage.getItem("user-preference")}ionViewDidLeave(){try{this.unsubscribe.next(),this.unsubscribe.complete()}catch(e){}}init(){this.web3Service.addressParam.pipe((0,k.R)(this.unsubscribe)).subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){e&&"0x"!=e&&e.includes("0x")?(this.userAddress=e,this.subscribeForTotalPlotAndbPlotBalance(),this.subscribeForIsClaimedForApp(),this.callInit(),this.userAddressParam!=this.userAddress&&(this.userAddressParam=this.userAddress,this.truncAddress=this.helpersService.truncateAddress(e),sessionStorage.setItem("userAddress",this.userAddress))):(yield this.web3Service.isUserLoggedIn())||this.router.navigate(["/sign-in"])})),this.applyCouponModal=localStorage.getItem("applyCouponModal"),"show"==this.applyCouponModal&&(this.openCouponCodeModal(),localStorage.setItem("applyCouponModal","hide"))}callInit(){return(0,d.__awaiter)(this,void 0,void 0,function*(){this.web3Service.isProviderSet.subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){e&&(this.fetchBalances(),this.userWalletBalance(),this.userBlockedBalance(),this.web3Service.callForMigrationCheck(),this.unUsedClaimedAmount=0,this.totalPlotAndbPlotBalance=yield this.web3Service.getPlotAndbPlotBalance(),0==this.plotPrice&&this.getPlotPrice())}))})}userWalletBalance(){return(0,d.__awaiter)(this,void 0,void 0,function*(){yield this.web3Service.userWalletBalance()})}userBlockedBalance(){return(0,d.__awaiter)(this,void 0,void 0,function*(){yield this.userService.userBlockedBalance(this.userAddress)})}doRefresh(e){console.log("Begin async operation"),this.callInit(),setTimeout(()=>{console.log("Async operation has ended"),e.target.complete()},2e3)}getPlotPrice(){this.apiService.httpCallCaching(M.N.pricesApiUrl).pipe((0,k.R)(this.unsubscribe)).subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){try{this.plotPrice=e.data.PLOT,this.helpersService.plotPriceInDollar.next(this.plotPrice),this.userOnboardStatus(),this.show=!0}catch(a){console.log(a)}}))}subscribeForTotalPlotAndbPlotBalance(){return(0,d.__awaiter)(this,void 0,void 0,function*(){this.web3Service.forTotalPlotAndbPlotBalance.pipe((0,k.R)(this.unsubscribe)).subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){""!=e&&(this.totalPlotAndbPlotBalance=parseFloat(e))}))})}subscribeForIsClaimedForApp(){return(0,d.__awaiter)(this,void 0,void 0,function*(){this.helpersService.forIsClaimedForApp.pipe((0,k.R)(this.unsubscribe)).subscribe(e=>(0,d.__awaiter)(this,void 0,void 0,function*(){if(Object.keys(e).length>0){let a=e;a.isClaimedForApp&&(this.unUsedClaimedAmount=a.unused)}}))})}disconnect(){return(0,d.__awaiter)(this,void 0,void 0,function*(){let e=1;this.web3Service.getConnectionTypeSelected()==this.DEFAULT_CONNECTION_TYPE?e=0:this.web3Service.getConnectionTypeSelected()==this.WALLET_CONNECTION_TYPES[1]&&(e=2),yield this.web3Service.disconnect(e),yield this.sendAnalyticsEvent(_.q.disconnect_wallet,!0),sessionStorage.removeItem("userAddress"),sessionStorage.removeItem("connectionTypeParam"),localStorage.removeItem("userAddress"),this.web3Service.isLoggedIn.next(null),this.web3Service.isLogout.next(!0),this.web3Service.isSetEmail.next(!1),this.web3Service.isRemoveFcm.next(!0),yield this.web3Service.pushUnregister(),this.web3Service.resetLocalProperty(),yield localStorage.clear(),this.updateSessionAfterDisconnect(),this._analytics.reset()})}updateSessionAfterDisconnect(){return(0,d.__awaiter)(this,void 0,void 0,function*(){setTimeout(()=>{this.router.navigate(["/sign-in"]),this.loadingController.dismiss()},500)})}routeToMigration(){return(0,d.__awaiter)(this,void 0,void 0,function*(){this.router.navigateByUrl("/migration"),this.sendAnalyticsEvent(E.y.start_migration_click)})}alertLogout(){return(0,d.__awaiter)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"alert-bg-light",header:"Are you sure?",message:"You need to sign in again for participating in running challenges.",backdropDismiss:!1,buttons:[{text:"Sign out",role:"cancel",cssClass:"alert-button--outline-white-secondary",id:"cancel-button",handler:a=>(0,d.__awaiter)(this,void 0,void 0,function*(){yield(yield this.loadingController.create({cssClass:"my-custom-class",message:"Logging out..."})).present(),this.disconnect()})},{text:"Cancel",id:"confirm-button",cssClass:"alert-button--primary",handler:()=>{}}]})).present()})}OpenAddFundsModal(){return(0,d.__awaiter)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:Y.S,initialBreakpoint:1,breakpoints:[0,1],handle:!1,componentProps:{directClick:!0,selectedTokenData:this.selectedTokenData}});e.onDidDismiss().then(a=>{console.log("output: ",a.data.output)}),yield e.present(),this.sendAnalyticsEvent(_.q.add_funds_click)})}deposit(){this.gameWalletBalance&&!this.hasCryptoBalance&&this.gameWalletBalance.dPlot+this.gameWalletBalance.dbPlot+this.gameWalletBalance.bPlot+this.gameWalletBalance.wPlot==0?this.dialog.open(B,{panelClass:["mat-dialog-light"],data:{selectedTokenData:this.selectedTokenData}}):this.router.navigateByUrl("/deposit"),this.sendAnalyticsEvent(_.q.deposit_funds)}copyAddress(){return(0,d.__awaiter)(this,void 0,void 0,function*(){this.helpersService.copyAddress(this.userAddress),(yield this.toastController.create({message:"Wallet address copied",duration:2e3,position:"top",mode:"ios"})).present(),this.sendAnalyticsEvent(_.q.copy_address)})}fetchBalances(){return(0,d.__awaiter)(this,void 0,void 0,function*(){let e=this.tokenListsInfo.map(h=>h.address),a=this.tokenListsInfo.map(h=>h.token),s=this.tokenListsInfo.map(h=>h.decimal),T=yield this.web3Service.getAllTokenBalances(a,e,s);for(let h=0;h<this.tokenListsInfo.length;h++){let O=T.filter(N=>N.currency==this.tokenListsInfo[h].token);this.tokenListsInfo[h].balance=O[0]&&O[0].amount?O[0].amount:0}const P=this.tokenListsInfo.map(h=>h.balance).reduce((h,O)=>h+O,0);this.hasCryptoBalance=P>0,this.selectedTokenData=this.tokenListsInfo.filter(h=>"PLOT"==h.token)[0],this.loadingBalance=!1})}fetchAllPrices(){return(0,d.__awaiter)(this,void 0,void 0,function*(){this.apiService.callBinanceAPI(M.N.binancePricesAPIUrl).pipe((0,k.R)(this.unsubscribe)).subscribe(e=>{const a=e;for(let s=0;s<this.tokenListsInfo.length;s++){const T=this.tokenListsInfo[s],S=this.binanceAPIParams[T.token];if(S){let P=a.filter(h=>h.symbol===S);P=P[0],this.tokenListsInfo[s].dollarPrice=P.price}else switch(T.token){case this.tokenLists[0]:this.tokenListsInfo[s].dollarPrice=this.plotTokenPriceInUsd;break;case this.tokenLists[4]:this.tokenListsInfo[s].dollarPrice=1}}console.log(this.tokenListsInfo)})})}openQR(){return(0,d.__awaiter)(this,void 0,void 0,function*(){this.dialog.open($,{data:{userAddress:this.userAddress}}),this.sendAnalyticsEvent(_.q.show_qr)})}startTour(){this.boardingPointer=!1,this.helpersService.startTour("account",["walletCard","deposit","cryptoWallet","tokenList","addFunds","walletAddress","copy","scan"])}manageWallet(){this.sendAnalyticsEvent(_.q.manage_wallet)}sendAnalyticsEvent(e,a=!1){return(0,d.__awaiter)(this,void 0,void 0,function*(){this._analytics.trackMixPanel(e,this.analyticsParam),a&&(this.analyticsParam={})})}userOnboardStatus(){return(0,d.__awaiter)(this,void 0,void 0,function*(){(yield this.storageService.get("firstTimeUser"))||(this.boardingPointer=!0,yield this.storageService.set("firstTimeUser",!0))})}dismissPopover(){return(0,d.__awaiter)(this,void 0,void 0,function*(){yield this.popoverController.dismiss()})}openCouponCodeModal(){return(0,d.__awaiter)(this,void 0,void 0,function*(){this.dialog.open(Yt,{width:"320px",panelClass:["mat-dialog-light"],data:{selectedAddress:this.userAddress}}),this.sendAnalyticsEvent(y.W.apply_coupon_click)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.Br),t.Y36(l.IN),t.Y36(X.O),t.Y36(Et.$),t.Y36(st.U),t.Y36(I.F0),t.Y36(X.O),t.Y36(Z.uw),t.Y36(l.yF),t.Y36(Lt.V),t.Y36(rt.y),t.Y36(l.Dh),t.Y36(l.HT),t.Y36(Wt.K),t.Y36(Jt.I))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-account"]],decls:9,vars:3,consts:[[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[3,"ngTemplateOutlet",4,"ngIf"],["account",""],["skeleton",""],[3,"ngTemplateOutlet"],[1,"header-hero","bg-gradient-9"],[1,"d-flex","align-items-center","justify-content-between",2,"padding-top","var(--ion-safe-area-top)"],[1,"heading"],[1,"heading__title"],["slot","end"],[1,"btn-back","me-2",2,"box-shadow","none",3,"ngClass","click"],["slot","icon-only","name","help-circle-outline"],["class","btn-back me-2","style","box-shadow: none;","id","settings",4,"ngIf"],["trigger","settings","reference","trigger",1,"popover-setting"],[1,"btn-back",2,"box-shadow","none",3,"click"],["slot","icon-only","name","exit"],["tourAnchor","walletCard",1,"card--account"],[1,"wrapper-balance"],["class","balance",4,"ngIf"],["class","dollar-balance",4,"ngIf"],["src","assets/icon/plotx-light-icon.svg"],[1,"actions"],["tourAnchor","deposit","shape","round",3,"click"],["slot","start","src","assets/icon/fa-plus-solid.svg"],["shape","round","routerLink","/manage-wallet",3,"click"],["slot","start","src","assets/icon/icon-wallet.svg"],["class","fs-sm fw-500 mt-2",4,"ngIf"],[1,"content"],[1,"mb-4","text-center"],[1,"link","fw-600","d-inline-flex","align-items-center","fs-sm",3,"click"],["src","./assets/icon/icon-coupon.svg",1,"fs-md","me-2"],[1,"card--crypto-wallet","mb-3"],["tourAnchor","cryptoWallet"],["class","fs-sm fw-500 mb-2",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mr-2"],["disableElement","","tourAnchor","addFunds","shape","round","color","light",1,"fw-600",2,"--ion-color-contrast","var(--ion-color-primary) !important",3,"click"],[1,"container_walletaddress"],["tourAnchor","walletAddress",1,"wrapper_walletaddress"],["ngxGravatar","",3,"md5Hash"],["tourAnchor","copy","id","copyaddress",1,"ion-activatable","ripple-parent",3,"click"],["src","assets/icon/icon-copy.svg"],["tourAnchor","scan",1,"ion-activatable","ripple-parent",3,"click"],["src","assets/icon/icon-scan.svg"],["tourAnchor","tokenList",1,"token-list-2"],[4,"ngFor","ngForOf"],["id","settings",1,"btn-back","me-2",2,"box-shadow","none"],["slot","icon-only","name","settings-sharp"],["class","link text-decoration-none",3,"click",4,"ngIf"],[1,"link","text-decoration-none",3,"click"],[1,"balance"],[1,"dollar-balance"],[1,"fs-sm","fw-500","mt-2"],[1,"fs-sm","fw-500","mb-2"],["class","token-item",4,"ngIf"],[1,"token-item"],[3,"src"],[1,"token--name"],[1,"token--balance"],[1,"text-color-60"],[4,"ngIf"],["src","assets/icon/fa-circle-notch-solid.svg",1,"spin"],[2,"--background","transparent","--border-width","0","--border-radius","8px"],["animated","",2,"width","35%","height","32px"],["animated","",2,"width","50%"],["animated","",1,"me-2",2,"width","40px","height","40px","--border-radius","50%"],["animated","",2,"width","40px","height","40px","--border-radius","50%"],[1,"card--account",2,"--background-rgb","var(--ion-background-color-rgb)","--border-radius","8px"],["animated","",2,"width","150px"],["animated","",2,"width","180px","height","24px"],["animated","",2,"width","100px"],["animated","",2,"width","32px","height","32px","--border-radius","50%"],["animated","",2,"width","calc(50% - 5px)","height","44px","--border-radius","25px"],[1,"content",2,"--border-radius","8px"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-content",0),t.TgZ(1,"ion-refresher",1),t.NdJ("ionRefresh",function(T){return a.doRefresh(T)}),t._UZ(2,"ion-refresher-content"),t.qZA(),t.YNc(3,Ht,1,1,"ng-container",2),t.YNc(4,zt,1,1,"ng-container",2),t.qZA(),t.YNc(5,re,60,11,"ng-template",null,3,t.W1O),t.YNc(7,se,19,0,"ng-template",null,4,t.W1O)),2&e&&(t.Q6J("fullscreen",!0),t.xp6(3),t.Q6J("ngIf",!a.show),t.xp6(1),t.Q6J("ngIf",a.show))},directives:[l.W2,l.nJ,l.Wo,w.O5,w.tP,l.Gu,l.Sm,l.YG,w.mk,l.gu,l.d8,l.PM,ct.JA,l.FN,l.Xz,l.YI,I.rH,Qt.Y,lt.yV,l.H$,l.q_,w.sg,l.Ie,l.BJ,l.Q$,l.sr,l.CK],pipes:[Dt.ws,Rt.n],styles:["ion-content[_ngcontent-%COMP%]{--padding-start: 0px;--padding-end: 0px;--offset-top: 0px !important;--offset-bottom: 0px !important}.header-hero[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.header-hero[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px}ion-popover[_ngcontent-%COMP%]{font-size:12px;--padding-top: 24px;--padding-bottom: 24px}ion-popover[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--padding-top: 16px;--padding-bottom: 16px}ion-popover.popover-setting[_ngcontent-%COMP%]{--background: var(--ion-background-color)}ion-popover.popover-setting[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color);--color: var(--ion-text-color)}ion-segment[_ngcontent-%COMP%]{background:rgba(var(--ion-text-color-rgb),.08);border:1px solid rgba(var(--ion-text-color-rgb),.05);border-radius:12px;padding:8px}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--indicator-color: var(--ion-text-color);--padding-top: 8px;--padding-bottom: 8px}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;font-size:12px;color:rgba(var(--ion-text-color-rgb),.6)}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:20px;height:20px}ion-segment[_ngcontent-%COMP%]   ion-segment-button.segment-button-checked[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#333}.card--account[_ngcontent-%COMP%]{background-color:var(--ion-text-color);color:#333;margin-top:24px}.card--account[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0}.card--account[_ngcontent-%COMP%]   .wrapper-balance[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between;margin-bottom:20px}.card--account[_ngcontent-%COMP%]   .wrapper-balance[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:#3339;margin:0}.card--account[_ngcontent-%COMP%]   .wrapper-balance[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]{font-weight:600;font-size:24px;color:var(--ion-color-primary)}.card--account[_ngcontent-%COMP%]   .wrapper-balance[_ngcontent-%COMP%]   .dollar-balance[_ngcontent-%COMP%]{font-weight:500;font-size:12px;color:var(--ion-color-primary)}.card--account[_ngcontent-%COMP%]   .wrapper-balance[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card--account[_ngcontent-%COMP%]   .wrapper-balance[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:32px;height:32px}.card--account[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;justify-content:space-evenly}.card--account[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){--padding-start: 18px;--padding-end: 18px}.card--crypto-wallet[_ngcontent-%COMP%]{color:var(--ion-text-color)}.card--crypto-wallet[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0}.card--crypto-wallet[_ngcontent-%COMP%]   .container_walletaddress[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:space-between;margin-top:1rem}.card--crypto-wallet[_ngcontent-%COMP%]   .container_walletaddress[_ngcontent-%COMP%]   .wrapper_walletaddress[_ngcontent-%COMP%]{flex:1 0 auto;display:flex;align-items:center;gap:12px;font-size:14px;background-color:rgba(var(--ion-text-color-rgb),.05);padding:10px 12px;border-radius:12px}.card--crypto-wallet[_ngcontent-%COMP%]   .container_walletaddress[_ngcontent-%COMP%]   .wrapper_walletaddress[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .card--crypto-wallet[_ngcontent-%COMP%]   .container_walletaddress[_ngcontent-%COMP%]   .wrapper_walletaddress[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:20px!important;height:20px!important;border:1px solid var(--ion-color-primary)!important}.card--crypto-wallet[_ngcontent-%COMP%]   .container_walletaddress[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.card--crypto-wallet[_ngcontent-%COMP%]   .container_walletaddress[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;background-color:rgba(var(--ion-text-color-rgb),.05);padding:4px 12px;border-radius:12px;color:var(--ion-text-color);font-size:20px;display:flex;align-items:center;justify-content:center}.content[_ngcontent-%COMP%]{padding:40px 16px 30px}"]}),n})();var dt=c(27544),ut=c(75658);let le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[w.ez,I.Bz,q.u5,l.Pc,ut.d,Z.Is]]}),n})(),de=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[w.ez,I.Bz,l.Pc,Z.Is,dt.F]]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[w.ez,I.Bz,l.Pc,Z.Is,q.u5]]}),n})();var pe=c(44466);const ge=[{path:"",component:ce}];let he=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Pc,w.ez,I.Bz.forChild(ge),dt.F,ut.d,lt.rf,le,ct.jo,de,ue,pe.m],I.Bz]}),n})()},63304:(vt,H,c)=>{c.d(H,{K:()=>$});var l=c(70655),w=c(24850),I=c(27221),d=c(40520),Y=c(61737),M=c(92340),k=c(591),Z=c(92198),t=c(5e3),z=c(62562);let $=(()=>{class B extends class G{constructor(){this._url=M.N.API_URL,this.setHeaders()}setHeaders(){this.headers=new d.WM({"Content-Type":"application/json"})}post_options(_=null){return this.setHeaders(),Object.assign({headers:this.headers,method:"post"},{withCredentials:!1})}get_options(_=null){return this.setHeaders(),Object.assign({headers:this.headers,method:"get"},{withCredentials:!0})}put_options(_=null){return this.setHeaders(),Object.assign({headers:this.headers,method:"put"},{withCredentials:!0})}delete_options(){return this.setHeaders(),Object.assign({headers:this.headers,method:"delete"},{withCredentials:!0})}patch_options(){return this.setHeaders(),Object.assign({headers:this.headers,method:"patch"},{withCredentials:!0})}extractData(_){return _}boolData(_){return _}handleError(_){return(0,Y._)(_)}extractAuthData(_){return _||{}}handleAuthError(_){return(0,Y._)(_)}extractAuthDataPromise(_){return _||{}}handleErrorPromise(_){return(0,Y._)(_)}}{constructor(y,E){super(),this._http=y,this.apiService=E,this._blockedBalance=new k.X({})}get gameBlockedBalance(){return this._blockedBalance.asObservable().pipe((0,Z.h)(y=>!!y))}saveFCM(y){return this._http.post(`${this._url}/notifications/updateFcm`,y).pipe((0,w.U)(this.extractData),(0,I.K)(this.handleError)).toPromise()}userBlockedBalance(y){return(0,l.__awaiter)(this,void 0,void 0,function*(){this.apiService.get(`${M.N.checkForBlockedFundsApi}${y}`).subscribe(E=>(0,l.__awaiter)(this,void 0,void 0,function*(){try{this._blockedBalance.next({dplot:E.data.blockedBalance,bplot:E.data.blockedBplotBalance})}catch(Q){console.log(Q)}}))})}}return B.\u0275fac=function(y){return new(y||B)(t.LFG(d.eN),t.LFG(z.O))},B.\u0275prov=t.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()}}]);